# Erros comuns

## Por que importa
Conhecer os anti-padrões mais recorrentes evita retrabalho, reduz bugs de navegação e mantém a experiência coerente em todas as telas. Um catálogo claro acelera revisões e dá segurança para evoluir a DSL sem quebrar fluxos existentes.

## Forma canônica (sintaxe mínima)
<DocsCodePreview title="Separar itens textuais de ações">
```dsl
card:
  ## Próximos passos
  
    - Revisar backlog
    - Preparar release
  row-end:
    @ghost[Cancelar](close)
    @[Abrir planejamento](Planning)
```
</DocsCodePreview>
Por quê: destaca que `` abriga apenas texto, enquanto ações ficam em blocos dedicados como `row-end`.

## Padrões de uso
<DocsCodePreview title="Destacar ações destrutivas">
```dsl
row-end:
  @ghost[Cancelar](close)
  @destructive[Excluir conta](ConfirmDelete)
```
</DocsCodePreview>
Quando usar: qualquer operação que remova dados ou interrompa fluxos críticos.
Por quê: a variante destrutiva comunica risco e ajuda a prevenir cliques acidentais.

<DocsCodePreview title="Navigator consistente entre telas irmãs">
```dsl
screen Home:
  navigator:
    - Home | Home
    - Tarefas | Tasks
    - Configurações | Settings

screen Tasks:
  navigator:
    - Home | Home
    - Tarefas | Tasks
    - Configurações | Settings
```
</DocsCodePreview>
Quando usar: grupos de telas que compartilham o mesmo menu persistente.
Por quê: manter itens idênticos evita destinos ocultos e reduz confusão ao alternar telas.

<DocsCodePreview title="Overlays com caminho de saída claro">
```dsl
drawer Filters:
  card:
    ## Ajustar filtros
    row-end:
      @ghost[Cancelar](close)
      @[Aplicar](applyFilters)
```
</DocsCodePreview>
Quando usar: sempre que um drawer ou modal assumir o foco da interação.
Por quê: o botão de fechar garante retorno imediato ao contexto original.

## Erros comuns (Do/Don’t)
<DoDont
  dont={{
    title: "Links na lista",
    code: `
card:
  ## Tarefas
  
    - Revisar backlog #[Abrir](Backlog)
    `,
  }}
  do={{
    title: "Ações fora da lista",
    code: `
card:
  ## Tarefas
  
    - Revisar backlog
  row-end:
    @[Abrir backlog](Backlog)
    `,
  }}
>
  Por quê: `` aceita apenas texto; botões e links devem ficar em rows ou navigator.
</DoDont>
<DoDont
  dont={{
    title: "Drawer sem saída",
    code: `
drawer Filters:
  card:
    ## Filtros
    @[Aplicar](applyFilters)
    `,
  }}
  do={{
    title: "Drawer com retorno",
    code: `
drawer Filters:
  card:
    ## Filtros
    row-end:
      @ghost[Cancelar](close)
      @[Aplicar](applyFilters)
    `,
  }}
>
  Por quê: oferecer saída explícita evita bloqueios e mantém o fluxo previsível.
</DoDont>
<DoDont
  dont={{
    title: "Fechamentos mistos",
    code: `
modal ConfirmAction:
  row-end:
    @ghost[Cancelar](-1)
    @[Confirmar](close)
    `,
  }}
  do={{
    title: "Fechamento consistente",
    code: `
modal ConfirmAction:
  row-end:
    @ghost[Cancelar](close)
    @[Confirmar](applyAction)
    `,
  }}
>
  Por quê: consistência reduz dúvidas sobre o resultado de cada botão.
</DoDont>

## Referências cruzadas

### Relacionados
- [`Sintaxe básica`](./syntax): reforça regras de estrutura que evitam anti-padrões.
- [`Diretrizes de composição`](./composition-guidelines): orienta combinações seguras entre blocos.
- [`Component Composition`](./component-composition): mostra como reutilizar layouts sem introduzir erros.
- [`Flow`](./flow): garante navegação coerente ao aplicar correções.

### Composições recomendadas
- **Erros comuns + Component Definition** → componentes reaproveitados já chegam corrigidos.
- **Erros comuns + Navigator** → valida menus persistentes antes da publicação.
- **Erros comuns + Modal Flow** → revê confirmações encadeadas para evitar bloqueios.

<DocsCodePreview title="Checklist final de revisão">
```dsl
card:
  ## Antes de publicar
  
    - Conferir lista sem ações inline.
    - Garantir overlays com botões de fechamento.
    - Verificar consistência dos destinos de navegação.
```
</DocsCodePreview>
Por quê: padroniza a inspeção e evita que anti-padrões sejam enviados para produção.
