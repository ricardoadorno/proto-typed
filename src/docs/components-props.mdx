
# Componentes e Props

import { DslExample } from "../../components/docs";

Crie blocos reutilizáveis de UI com suporte a props dinâmicas e listas de dados.

---

## Declaração

**Sintaxe:** `component NomeDoComponente:`

Declare um componente com conteúdo reutilizável. Use `%nomeDaProp` para variáveis dinâmicas.

<DslExample title="Declarar Componente" description="Componente simples">

```dsl
component Hero:
  card:
    # Olá!
    > Este é um componente reutilizável
    @[Ação](action)

screen Home:
  container:
    $Hero
```

</DslExample>

---

## Instanciando Componentes

**Sintaxe:** `$NomeDoComponente` ou `$NomeDoComponente:` com props

Instancie um componente usando `$` antes do nome. Para passar props, use `- valor1 | valor2 | ...`.

---

## Props Dinâmicas

Use `%nomeDaProp` dentro do componente para criar variáveis que serão substituídas pelos valores passados.

**Sintaxe de props:**

```dsl
$Componente:
  - valor1 | valor2 | valor3
```

<DslExample title="Componente com Props" description="Interpolação de valores">

```dsl
component UserCard:
  card:
    ## %name
    > Email: %email
    > Telefone: %phone
    @[Ver Perfil](Profile)

screen Users:
  container:
    $UserCard:
      - João Silva | joao@email.com | (11) 99999-1111
    $UserCard:
      - Maria Santos | maria@email.com | (11) 99999-2222
```

</DslExample>

---

## Listas de Componentes

Combine `list $Componente:` para gerar múltiplas instâncias a partir de dados.

**Sintaxe:**

```dsl
list $Componente:
  - valor1 | valor2 | valor3
  - valor4 | valor5 | valor6
```

<DslExample title="Lista de Componentes" description="Múltiplas instâncias">

```dsl
component ContactCard:
  card:
    # %name
    >> %role
    >>> %email
    @[Contato](mailto:%email)

screen Team:
  container:
    # Nossa Equipe
    list $ContactCard:
      - João Silva | CEO | joao@empresa.com
      - Maria Santos | CTO | maria@empresa.com
      - Pedro Costa | Designer | pedro@empresa.com
```

</DslExample>

---

## Casos de Uso

### Card de Produto

<DslExample title="Produto Reutilizável" description="Componente de produto">

```dsl
component ProductCard:
  card:
    ![%image](https://via.placeholder.com/200)
    ## %name
    >> %price
    @[Comprar](buy)

screen Shop:
  container:
    grid-3:
      $ProductCard:
        - Produto A | R$ 99,00 | produto-a.jpg
      $ProductCard:
        - Produto B | R$ 149,00 | produto-b.jpg
      $ProductCard:
        - Produto C | R$ 199,00 | produto-c.jpg
```

</DslExample>

### Estatística/Métrica

<DslExample title="Card de Métrica" description="Dashboard com componentes">

```dsl
component StatCard:
  card:
    >>> %label
    # %value
    >> %change

screen Analytics:
  container:
    grid-4:
      $StatCard:
        - Usuários | 1,234 | +12%
      $StatCard:
        - Vendas | R$ 45K | +8%
      $StatCard:
        - Conversão | 23.5% | -2%
      $StatCard:
        - Receita | R$ 98K | +15%
```

</DslExample>

### Notificação

<DslExample title="Lista de Notificações" description="Componente com ação">

```dsl
component Notification:
  card:
    row-between:
      stack:
        >> %title
        >>> %time
      @ghost[X](dismiss)

screen Notifications:
  container:
    # Notificações
    list $Notification:
      - Nova mensagem de João | há 2 min
      - Pedido #1234 confirmado | há 1 hora
      - Atualização disponível | há 3 horas
```

</DslExample>

---

## Props Avançadas

Você pode usar props em qualquer lugar: texto, ícones, ações, URLs.

<DslExample title="Props Avançadas" description="Props em múltiplos contextos">

```dsl
component ActionCard:
  card:
    # %title
    > %description
    row:
      @[%actionLabel](%actionTarget)
      @secondary[Cancelar](cancel)

screen Actions:
  container:
    $ActionCard:
      - Deletar Conta | Esta ação é irreversível | Confirmar | delete
    $ActionCard:
      - Fazer Upgrade | Melhore sua experiência | Upgrade | UpgradePlan
```

</DslExample>

---

## Componentes Aninhados

Componentes podem conter outros componentes, inclusive listas.

<DslExample title="Componentes Aninhados" description="Composição de componentes">

```dsl
component Badge:
  >>> %text

component ProfileHeader:
  card:
    # %name
    $Badge:
      - %role
    >> %bio

screen Profile:
  container:
    $ProfileHeader:
      - João Silva | Desenvolvedor | Apaixonado por código limpo
```

</DslExample>

---

## Boas Práticas

### Nomes Descritivos
Use nomes claros para componentes e props:
- ✅ `component UserCard:` com `%name`, `%email`
- ❌ `component C1:` com `%p1`, `%p2`

### Props Ordenadas
Mantenha ordem consistente de props:
```dsl
component Card:
  # %title
  > %description
  >> %metadata

$Card:
  - Título | Descrição | Metadata
```

### Componentes Pequenos
Prefira componentes pequenos e focados:
- ✅ `Badge`, `StatCard`, `Notification`
- ❌ `SuperMegaComplexCard` com 20 props
- ❌ `SuperMegaComplexCard` com 20 props
