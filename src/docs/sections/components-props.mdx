# Componentes e Props

import { DslExample } from "../../components/docs";

Crie blocos reutilizáveis de UI com suporte a props dinâmicas.

---

## Declaração

**Sintaxe:** `component NomeDoComponente:`

Declare um componente com conteúdo que será reutilizado.

<DslExample title="Declarar Componente" description="Componente simples">

```dsl
component Hero:
  # Olá!
  > Este é um componente reutilizável
  @[Ação](action)

screen Home:
  container-p8:
    $Hero
```

</DslExample>

---

## Uso

**Sintaxe:** `$NomeDoComponente`

Instancie um componente usando `$` antes do nome.

---

## Props

Use `%nomeDaProp` dentro do componente para criar placeholders que serão substituídos.

**Sintaxe de props:** `- valor1 | valor2 | valor3`

<DslExample title="Componente com Props" description="Interpola\u00e7\u00e3o de valores">

```dsl
component UserCard:
  card-p4:
    ## %name
    > Email: %email
    > Telefone: %phone
    @[Ver Perfil](Profile)

screen Users:
  container-p8:
    $UserCard:
      - João Silva | joao@email.com | (11) 99999-1111
    
    $UserCard:
      - Maria Santos | maria@email.com | (11) 99999-2222
```

</DslExample>

---

## Lista de Componentes

Combine `list` com componente para gerar múltiplas instâncias.

**Sintaxe:** `list $ComponenteName:`

<DslExample title="Lista de Componentes" description="M\u00faltiplas inst\u00e2ncias">

```dsl
component ContactCard:
  card-p4-m2:
    # %name
    >> %role
    >>> %email
    @@@+[Contato]{mail}(mailto:%email)

screen Team:
  container-p8:
    # Nossa Equipe
    
    list $ContactCard:
      - João Silva | CEO | joao@empresa.com
      - Maria Santos | CTO | maria@empresa.com
      - Pedro Costa | Designer | pedro@empresa.com
```

</DslExample>

---

## Casos de Uso

### Card de Produto

<DslExample title="Produto Reutiliz\u00e1vel" description="Componente de produto">

```dsl
component ProductCard:
  card-p4:
    ![%image](https://via.placeholder.com/200)
    ## %name
    >> %price
    @[Comprar]{shopping-cart}(buy)

screen Shop:
  container-p8:
    grid-cols3-gap4:
      $ProductCard:
        - Produto A | R$ 99,00 | produto-a.jpg
      
      $ProductCard:
        - Produto B | R$ 149,00 | produto-b.jpg
      
      $ProductCard:
        - Produto C | R$ 199,00 | produto-c.jpg
```

</DslExample>

### Estat\u00edstica/M\u00e9trica

<DslExample title="Card de M\u00e9trica" description="Dashboard com componentes">

```dsl
component StatCard:
  card-p6-center:
    >>> %label
    # %value
    >> %change

screen Analytics:
  container-p8:
    grid-cols4-gap4:
      $StatCard:
        - Usu\u00e1rios | 1,234 | +12%
      
      $StatCard:
        - Vendas | R$ 45K | +8%
      
      $StatCard:
        - Convers\u00e3o | 23.5% | -2%
      
      $StatCard:
        - Receita | R$ 98K | +15%
```

</DslExample>

### Notifica\u00e7\u00e3o

<DslExample title="Lista de Notifica\u00e7\u00f5es" description="Componente com a\u00e7\u00e3o">

```dsl
component Notification:
  card-p4-m2:
    row-between:
      col:
        >> %title
        >>> %time
      @@@_[X]{x}(dismiss)

screen Notifications:
  container-p8:
    # Notifica\u00e7\u00f5es
    
    list $Notification:
      - Nova mensagem de Jo\u00e3o | h\u00e1 2 min
      - Pedido #1234 confirmado | h\u00e1 1 hora
      - Atualiza\u00e7\u00e3o dispon\u00edvel | h\u00e1 3 horas
```

</DslExample>

---

## Props Complexas

Você pode usar props em qualquer lugar: texto, \u00edcones, a\u00e7\u00f5es, URLs.

<DslExample title="Props Avan\u00e7adas" description="Props em m\u00faltiplos contextos">

```dsl
component ActionCard:
  card-p4:
    # %title
    > %description
    
    row-gap2:
      @[%actionLabel]{%icon}(%actionTarget)
      @@+[Cancelar](cancel)

screen Actions:
  container-p8:
    $ActionCard:
      - Deletar Conta | Esta a\u00e7\u00e3o \u00e9 irrevers\u00edvel | Confirmar | trash | delete
    
    $ActionCard:
      - Fazer Upgrade | Melhore sua experi\u00eancia | Upgrade | arrow-up | UpgradePlan
```

</DslExample>

---

## Aninhamento

Componentes podem conter outros componentes.

<DslExample title="Componentes Aninhados" description="Composi\u00e7\u00e3o de componentes">

```dsl
component Badge:
  >>> %text

component ProfileHeader:
  card-p6:
    # %name
    $Badge:
      - %role
    >> %bio

screen Profile:
  container-p8:
    $ProfileHeader:
      - João Silva | Desenvolvedor | Apaixonado por código limpo
```

</DslExample>

---

## Boas Pr\u00e1ticas

### Nomes Descritivos
Use nomes claros para componentes e props:
- ✅ `component UserCard:` com `%name`, `%email`
- ❌ `component C1:` com `%p1`, `%p2`

### Props Ordenadas
Mantenha ordem consistente de props:
```dsl
component Card:
  # %title
  > %description
  >> %metadata

$Card:
  - T\u00edtulo | Descri\u00e7\u00e3o | Metadata
```

### Componentes Pequenos
Prefira componentes pequenos e focados:
- ✅ `Badge`, `StatCard`, `Notification`
- ❌ `SuperMegaComplexCard` com 20 props
