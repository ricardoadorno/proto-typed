# Modals e Drawers

import { DslExample } from "../../components/docs";

Overlays nomeados para dialogs e menus laterais.

---

## Modal

**Sintaxe:** `modal NomeDoModal:`

Dialogs centralizados para conteúdo temporário.

<DslExample title="Declarar Modal" heightClassName="h-48">

```dsl
modal Help:
  card:
    # Precisa de Ajuda?
    > Entre em contato conosco
    ___email: Email{seu@email.com}
    @[Enviar](send)
    @ghost[Fechar](close)

screen Home:
  container:
    # Início
    @[Abrir Ajuda](Help)
```

</DslExample>

---

## Drawer

**Sintaxe:** `drawer NomeDoDrawer:`

Menu lateral deslizante.

<DslExample title="Declarar Drawer" heightClassName="h-56">

```dsl
drawer Menu:
  container:
    # Menu
    
    list:
      - #[Início](Home)
      - #[Perfil](Profile)
      - #[Configurações](Settings)
      - #[Sobre](About)
    
    ---
    
    @destructive[Sair](logout)

screen Home:
  header:
    @ghost[Menu](Menu)
    # App
  
  container:
    > Conteúdo principal
```

</DslExample>

---

## Ativação

Modals e drawers são **ocultos por padrão** e aparecem quando referenciados por nome.

| Método | Sintaxe | Exemplo |
|--------|---------|---------|
| Botão | `@[texto](NomeOverlay)` | `@[Ajuda](HelpModal)` |
| Link | `#[texto](NomeOverlay)` | `#[Menu](SideMenu)` |

---

## Casos de Uso

### Confirmação de Ação

<DslExample title="Modal de Confirmação" heightClassName="h-56">

```dsl
modal ConfirmDelete:
  card-p8-center:
    # Confirmar Exclusão
    > Esta ação não pode ser desfeita.
    
<DslExample title="Modal de Confirmação" heightClassName="h-56">

```dsl
modal ConfirmDelete:
  card:
    # Confirmar Exclusão
    > Esta ação não pode ser desfeita.
    
    row-between:
      @destructive[Excluir](confirmDelete)
      @outline[Cancelar](close)

screen Items:
  container:
    list:
      - Item 1 | @destructive-xs[Deletar](ConfirmDelete)
      - Item 2 | @destructive-xs[Deletar](ConfirmDelete)
```

</DslExample>

### Menu Lateral

<DslExample title="Drawer de Navegação" heightClassName="h-64">

```dsl
drawer SideNav:
  container:
    # Navegação
    
    >>> usuário@email.com
    
    ---
    
    list:
      - Início | Home
      - Perfil | Profile
      - Configurações | Settings
      - Ajuda | Help
    
    ---
    
    @ghost[Sair](logout)

screen App:
  header:
    @ghost[Menu](SideNav)
    # Minha App
    @ghost[Perfil](Profile)
  
  container:
    # Dashboard
    > Conteúdo principal
```

</DslExample>

### Formulário em Modal

<DslExample title="Modal com Formulário" heightClassName="h-64">

```dsl
modal NewTask:
  card:
    # Nova Tarefa
    
    ___: Título{Nome da tarefa}
    ___textarea: Descrição{Detalhes}
    ___: Prioridade{Selecione}[Alta | Média | Baixa]
    
    row-between:
      @[Criar](create)
      @outline[Cancelar](close)

screen Tasks:
  container:
    header:
      # Tarefas
      @ghost[Nova](NewTask)
    
    list:
      - Tarefa 1
      - Tarefa 2
  
  fab:
    - + | NewTask
```

</DslExample>

---

## Fechar Overlays

Overlays fecham automaticamente quando:
1. Navega para outra tela
2. Clica em ação que navega para tela
3. Usa ação especial `(close)`

<DslExample title="Fechar Explicitamente" heightClassName="h-40">

```dsl
modal Info:
  card-p8:
    # Informação
    > Conteúdo do modal
    @[Fechar](close)
```

</DslExample>

---

## Dicas

- ✅ Use **modals** para confirmações, formulários rápidos, alertas
- ✅ Use **drawers** para menus, navegação, filtros
- ⚠️ Modals e drawers devem ter **nomes únicos**
- ⚠️ Overlays não aparecem até serem referenciados em ação
